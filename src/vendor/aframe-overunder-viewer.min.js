!function(e){function t(a){if(r[a])return r[a].exports;var i=r[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("overunder",{schema:{type:"asset"},multiple:!1,init:function(){var e=(new THREE.TextureLoader).load(this.data),t=new THREE.MeshBasicMaterial;t.map=e;var r=new THREE.Group,a=this.createImageSphere(t,"left");r.add(a);var i=this.createImageSphere(t,"right");r.add(i),this.el.setObject3D("imageSpheres",r),this.updateTexture=!1},update:function(e){if(this.updateTexture){var t=this.el.getObject3D("imageSpheres").children[0],r=this.el.getObject3D("imageSpheres").children[1],a=(new THREE.TextureLoader).load(this.data);a.anisotropy=16,t.material.map=a,r.material.map=a}else this.updateTexture=!0},remove:function(){this.el.removeObject3D("imageSpheres")},pause:function(){this.el.object3D.visible=!1},play:function(){this.el.object3D.visible=!0},createImageSphere:function(e,t){var r=new THREE.SphereGeometry(5e3,64,64),a=r.faceVertexUvs[0],i="y";if("left"===t)for(var n=0;n<a.length;n++)for(var s=0;s<3;s++)a[n][s][i]*=.5,a[n][s][i]+=.5;else for(var n=0;n<a.length;n++)for(var s=0;s<3;s++)a[n][s][i]*=.5;var o=new THREE.Mesh(r,e);o.name="left"===t?"leftSphere":"rightSphere";var l="left"===t?1:2;return o.layers.set(l),o.scale.x=-1,o}}),AFRAME.registerComponent("stereocam",{schema:{eye:{type:"string",default:"left"}},init:function(){this.layer_changed=!1},tick:function(e){var t=this.data;if(!this.layer_changed){var r=[];this.el.object3D.children.forEach(function(e,t,a){r[t]=e.type});var a=r.indexOf("PerspectiveCamera"),i=this.el.object3D.children[a];"both"===t.eye?(i.layers.enable(1),i.layers.enable(2)):i.layers.enable("left"===t.eye?1:2)}}})}]);